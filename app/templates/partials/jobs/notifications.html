{% from "components/table.html" import list_table, field, right_aligned_field_heading %}

{% call(item, row_number) list_table(
  notifications,
  caption=uploaded_file_name,
  caption_visible=False,
  empty_message="No messages to show yet",
  field_headings=[
    'Recipient',
    right_aligned_field_heading('Status')
  ]
) %}
  {% call field() %}
    {{ item.to }}
  {% endcall %}
  {% call field(
    align='right',
    status='error' if item.status == 'Failed' else 'default'
  ) %}
    {{ item.status|title }} at {{ item.sent_at|format_time }}
  {% endcall %}
{% endcall %}
